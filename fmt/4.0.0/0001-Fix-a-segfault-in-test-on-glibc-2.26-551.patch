From 0f3b9a8dde52a3ece165a2e7a522fa8c23ac4711 Mon Sep 17 00:00:00 2001
From: Victor Zverovich <victor.zverovich@gmail.com>
Date: Sun, 6 Aug 2017 20:18:04 -0700
Subject: [PATCH 1/2] Fix a segfault in test on glibc 2.26 #551

---
 test/util-test.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/test/util-test.cc b/test/util-test.cc
index a388255..6cef7e8 100644
--- a/test/util-test.cc
+++ b/test/util-test.cc
@@ -838,7 +838,7 @@ TEST(UtilTest, FormatSystemError) {
   EXPECT_EQ(fmt::format("test: {}", get_system_error(EDOM)), message.str());
   message.clear();
   fmt::format_system_error(
-        message, EDOM, fmt::StringRef(0, std::numeric_limits<size_t>::max()));
+        message, EDOM, fmt::StringRef(0, std::numeric_limits<ssize_t>::max()));
   EXPECT_EQ(fmt::format("error {}", EDOM), message.str());
 }
 
-- 
2.10.0

